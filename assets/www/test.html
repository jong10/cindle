<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> 
<head> 
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> 
	<title>Hello SyntaxHighlighter</title> 
	<script type="text/javascript" src="scripts/shCore.js"></script> 
	<script type="text/javascript" src="scripts/shBrushJava.js"></script> 
	<link type="text/css" rel="stylesheet" href="styles/shCoreDefault.css"/> 
	<script type="text/javascript">SyntaxHighlighter.all();</script> 
	<script type="text/javascript" src="./codeviewer.js"></script>
</head> 
 
<body style="background: white; font-family: Helvetica; margin:0; padding:0" onload="codeviewOnloadHook();"> 
<h3>sourcecode.java</h3>
<pre class="brush: java;" style="margin:0; padding:0"> 
package com.beonit.codeViewer;

import android.app.Activity;
import android.app.AlertDialog;
import android.content.Context;
import android.content.DialogInterface;
import android.content.Intent;
import android.os.Bundle;
import android.util.Log;
import android.webkit.WebView;

public class main extends Activity {

	final Context myApp = this;

	@Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        Log.i("MY_TAG", "on create");
        setContentView(R.layout.main);
        WebView wv = (WebView)this.findViewById(R.id.codeView);
        wv.getSettings().setJavaScriptEnabled(true);
        wv.loadUrl("file:///android_asset/www/test.html");
        wv.addJavascriptInterface( new CodeviewJavaScriptInterface(), "Codeview" );
	}
	
	
	final class CodeviewJavaScriptInterface {
		private String currentHtmlText = null;
		public void Clickhook(String innerHTML) {
			String[] findTypeString = myApp.getResources().getStringArray(R.array.FindBy);
	    	AlertDialog.Builder dialog = new AlertDialog.Builder(myApp);
	    	currentHtmlText = innerHTML;
	    	dialog.setTitle("cscope find");
	    	dialog.setItems( findTypeString, new DialogInterface.OnClickListener() {
	    		@Override
	    		public void onClick(DialogInterface dialog, int which) {
	    			Intent intent = new Intent( myApp, FindResult.class );
	    			intent.putExtra("findBy", which);
	    			intent.putExtra("text", currentHtmlText);
	    			myApp.startActivity(intent);
	    		}
	    	} );
	    	dialog.setCancelable(true);
	    	dialog.create();
	    	dialog.show();
		}
	}
}
</pre> 
 
</html> 
